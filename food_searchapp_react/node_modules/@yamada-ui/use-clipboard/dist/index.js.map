{"version":3,"sources":["../src/index.ts"],"sourcesContent":["import { isNumber, isString } from \"@yamada-ui/utils\"\nimport copy from \"copy-to-clipboard\"\nimport { useState, useCallback, useEffect } from \"react\"\n\nexport type UseClipboardOptions = {\n  timeout?: number\n  format?: string\n}\n\n/**\n * `useClipboard` is a custom hook that performs the operation of copying a value to the clipboard.\n *\n * @see Docs https://yamada-ui.com/hooks/use-clipboard\n */\nexport const useClipboard = (\n  defaultValue: string = \"\",\n  timeoutOrOptions: number | UseClipboardOptions = {},\n) => {\n  const [hasCopied, setHasCopied] = useState(false)\n\n  const [value, setValue] = useState(defaultValue)\n\n  useEffect(() => setValue(defaultValue), [defaultValue])\n\n  const { timeout = 1500, ...copyOptions } = isNumber(timeoutOrOptions)\n    ? { timeout: timeoutOrOptions }\n    : timeoutOrOptions\n\n  const onCopy = useCallback(\n    (newValue?: any) => {\n      if (!isString(newValue)) {\n        newValue = value\n      } else {\n        setValue(newValue)\n      }\n\n      const hasCopied = copy(newValue, copyOptions)\n\n      setHasCopied(hasCopied)\n    },\n    [value, copyOptions],\n  )\n\n  useEffect(() => {\n    let timeoutId: number | null = null\n\n    if (hasCopied)\n      timeoutId = window.setTimeout(() => {\n        setHasCopied(false)\n      }, timeout)\n\n    return () => {\n      if (timeoutId) window.clearTimeout(timeoutId)\n    }\n  }, [timeout, hasCopied])\n\n  return {\n    value,\n    setValue,\n    onCopy,\n    hasCopied,\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAmC;AACnC,+BAAiB;AACjB,mBAAiD;AAY1C,IAAM,eAAe,CAC1B,eAAuB,IACvB,mBAAiD,CAAC,MAC/C;AACH,QAAM,CAAC,WAAW,YAAY,QAAI,uBAAS,KAAK;AAEhD,QAAM,CAAC,OAAO,QAAQ,QAAI,uBAAS,YAAY;AAE/C,8BAAU,MAAM,SAAS,YAAY,GAAG,CAAC,YAAY,CAAC;AAEtD,QAAM,EAAE,UAAU,MAAM,GAAG,YAAY,QAAI,uBAAS,gBAAgB,IAChE,EAAE,SAAS,iBAAiB,IAC5B;AAEJ,QAAM,aAAS;AAAA,IACb,CAAC,aAAmB;AAClB,UAAI,KAAC,uBAAS,QAAQ,GAAG;AACvB,mBAAW;AAAA,MACb,OAAO;AACL,iBAAS,QAAQ;AAAA,MACnB;AAEA,YAAMA,iBAAY,yBAAAC,SAAK,UAAU,WAAW;AAE5C,mBAAaD,UAAS;AAAA,IACxB;AAAA,IACA,CAAC,OAAO,WAAW;AAAA,EACrB;AAEA,8BAAU,MAAM;AACd,QAAI,YAA2B;AAE/B,QAAI;AACF,kBAAY,OAAO,WAAW,MAAM;AAClC,qBAAa,KAAK;AAAA,MACpB,GAAG,OAAO;AAEZ,WAAO,MAAM;AACX,UAAI;AAAW,eAAO,aAAa,SAAS;AAAA,IAC9C;AAAA,EACF,GAAG,CAAC,SAAS,SAAS,CAAC;AAEvB,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;","names":["hasCopied","copy"]}