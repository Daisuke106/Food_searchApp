{"version":3,"sources":["../src/avatar-badge.tsx"],"sourcesContent":["import type { HTMLUIProps, CSSUIObject, AnimationStyle } from \"@yamada-ui/core\"\nimport { ui, forwardRef } from \"@yamada-ui/core\"\nimport { useAnimation } from \"@yamada-ui/use-animation\"\nimport { cx } from \"@yamada-ui/utils\"\nimport { useAvatarContext } from \"./avatar\"\n\ntype AvatarBadgeOptions = {\n  /**\n   * The placement of the badge.\n   *\n   * @default 'bottom-end'\n   */\n  placement?: \"top-start\" | \"top-end\" | \"bottom-start\" | \"bottom-end\"\n  /**\n   * If `true`, make an element scale and fade like a radar ping or ripple of water.\n   *\n   * @default false\n   */\n  ping?: boolean\n  /**\n   * It is used for the color of the ping animation.\n   *\n   * @default '[\"blackAlpha.400\", \"whiteAlpha.500\"]'\n   */\n  pingColor?: HTMLUIProps<\"div\">[\"backgroundColor\"]\n  /**\n   * It is used for the scale of the ping animation.\n   *\n   * @default 1.8\n   */\n  pingScale?: number\n  /**\n   * It is used for the count of the ping animation.\n   *\n   * @default \"infinite\"\n   */\n  pingCount?: AnimationStyle[\"iterationCount\"]\n  /**\n   * It is used for the duration of the ping animation.\n   *\n   * @default \"1.4s\"\n   */\n  pingDuration?: AnimationStyle[\"direction\"]\n}\n\nexport type AvatarBadgeProps = HTMLUIProps<\"div\"> & AvatarBadgeOptions\n\nconst placementStyles: Record<\n  \"top-start\" | \"top-end\" | \"bottom-start\" | \"bottom-end\",\n  CSSUIObject\n> = {\n  \"top-start\": {\n    top: \"0\",\n    insetStart: \"0\",\n    transform: \"translate(-25%, -25%)\",\n  },\n  \"top-end\": {\n    top: \"0\",\n    insetEnd: \"0\",\n    transform: \"translate(25%, -25%)\",\n  },\n  \"bottom-start\": {\n    bottom: \"0\",\n    insetStart: \"0\",\n    transform: \"translate(-25%, 25%)\",\n  },\n  \"bottom-end\": {\n    bottom: \"0\",\n    insetEnd: \"0\",\n    transform: \"translate(25%, 25%)\",\n  },\n}\n\nexport const AvatarBadge = forwardRef<AvatarBadgeProps, \"div\">(\n  (\n    {\n      className,\n      boxSize = \"1em\",\n      placement = \"bottom-end\",\n      ping,\n      pingColor = [\"blackAlpha.400\", \"whiteAlpha.500\"],\n      pingDuration = \"1.4s\",\n      pingCount = \"infinite\",\n      pingScale = 1.8,\n      children,\n      ...rest\n    },\n    ref,\n  ) => {\n    const styles = useAvatarContext()\n    const animation = useAnimation({\n      keyframes: {\n        \"75%, 100%\": {\n          transform: `scale(${pingScale})`,\n          opacity: 0,\n        },\n      },\n      fillMode: \"forwards\",\n      duration: pingDuration,\n      timingFunction: \"cubic-bezier(0, 0, 0.2, 1)\",\n      iterationCount: pingCount,\n    })\n\n    const css: CSSUIObject = {\n      position: \"absolute\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      ...placementStyles[placement],\n      ...styles.badge,\n    }\n\n    return (\n      <ui.div\n        ref={ref}\n        className={cx(\"ui-avatar__badge\", className)}\n        boxSize={boxSize}\n        __css={css}\n        {...rest}\n      >\n        {children}\n\n        {ping ? (\n          <ui.div\n            className=\"ui-avatar__badge__ping\"\n            __css={{\n              position: \"absolute\",\n              boxSize: \"100%\",\n              rounded: \"fallback(full, 9999px)\",\n              opacity: 0.75,\n              zIndex: -1,\n              bg: pingColor,\n            }}\n            animation={animation}\n          />\n        ) : null}\n      </ui.div>\n    )\n  },\n)\n"],"mappings":";;;;;;AACA,SAAS,IAAI,kBAAkB;AAC/B,SAAS,oBAAoB;AAC7B,SAAS,UAAU;AA8Gb,SAUI,KAVJ;AAlEN,IAAM,kBAGF;AAAA,EACF,aAAa;AAAA,IACX,KAAK;AAAA,IACL,YAAY;AAAA,IACZ,WAAW;AAAA,EACb;AAAA,EACA,WAAW;AAAA,IACT,KAAK;AAAA,IACL,UAAU;AAAA,IACV,WAAW;AAAA,EACb;AAAA,EACA,gBAAgB;AAAA,IACd,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,WAAW;AAAA,EACb;AAAA,EACA,cAAc;AAAA,IACZ,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,WAAW;AAAA,EACb;AACF;AAEO,IAAM,cAAc;AAAA,EACzB,CACE;AAAA,IACE;AAAA,IACA,UAAU;AAAA,IACV,YAAY;AAAA,IACZ;AAAA,IACA,YAAY,CAAC,kBAAkB,gBAAgB;AAAA,IAC/C,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ;AAAA,IACA,GAAG;AAAA,EACL,GACA,QACG;AACH,UAAM,SAAS,iBAAiB;AAChC,UAAM,YAAY,aAAa;AAAA,MAC7B,WAAW;AAAA,QACT,aAAa;AAAA,UACX,WAAW,SAAS,SAAS;AAAA,UAC7B,SAAS;AAAA,QACX;AAAA,MACF;AAAA,MACA,UAAU;AAAA,MACV,UAAU;AAAA,MACV,gBAAgB;AAAA,MAChB,gBAAgB;AAAA,IAClB,CAAC;AAED,UAAM,MAAmB;AAAA,MACvB,UAAU;AAAA,MACV,SAAS;AAAA,MACT,gBAAgB;AAAA,MAChB,YAAY;AAAA,MACZ,GAAG,gBAAgB,SAAS;AAAA,MAC5B,GAAG,OAAO;AAAA,IACZ;AAEA,WACE;AAAA,MAAC,GAAG;AAAA,MAAH;AAAA,QACC;AAAA,QACA,WAAW,GAAG,oBAAoB,SAAS;AAAA,QAC3C;AAAA,QACA,OAAO;AAAA,QACN,GAAG;AAAA,QAEH;AAAA;AAAA,UAEA,OACC;AAAA,YAAC,GAAG;AAAA,YAAH;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,gBACL,UAAU;AAAA,gBACV,SAAS;AAAA,gBACT,SAAS;AAAA,gBACT,SAAS;AAAA,gBACT,QAAQ;AAAA,gBACR,IAAI;AAAA,cACN;AAAA,cACA;AAAA;AAAA,UACF,IACE;AAAA;AAAA;AAAA,IACN;AAAA,EAEJ;AACF;","names":[]}