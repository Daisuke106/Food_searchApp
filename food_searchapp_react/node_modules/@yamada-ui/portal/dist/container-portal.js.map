{"version":3,"sources":["../src/container-portal.tsx","../src/portal-provider.tsx"],"sourcesContent":["import { useSafeLayoutEffect } from \"@yamada-ui/utils\"\nimport type { FC, PropsWithChildren, RefObject } from \"react\"\nimport { useMemo, useState } from \"react\"\nimport { createPortal } from \"react-dom\"\nimport { PortalProvider } from \"./portal-provider\"\n\ntype ContainerPortalProps = PropsWithChildren & {\n  containerRef: RefObject<HTMLElement | null>\n  appendToParentPortal?: boolean\n}\n\nexport const ContainerPortal: FC<ContainerPortalProps> = ({\n  children,\n  containerRef,\n  appendToParentPortal,\n}) => {\n  const parent = containerRef.current\n  const host =\n    parent ?? (typeof window !== \"undefined\" ? document.body : undefined)\n\n  const portal = useMemo(() => {\n    if (!parent) return\n\n    const { ownerDocument } = parent\n\n    const node = ownerDocument.createElement(\"div\")\n\n    if (node) node.className = \"ui-portal\"\n\n    return node\n  }, [parent])\n\n  const [, forceUpdate] = useState({})\n\n  useSafeLayoutEffect(() => forceUpdate({}), [])\n\n  useSafeLayoutEffect(() => {\n    if (!portal || !host) return\n\n    host.appendChild(portal)\n\n    return () => {\n      host.removeChild(portal)\n    }\n  }, [portal, host])\n\n  return host && portal\n    ? createPortal(\n        <PortalProvider value={appendToParentPortal ? portal : null}>\n          {children}\n        </PortalProvider>,\n        portal,\n      )\n    : null\n}\n","import { createContext } from \"@yamada-ui/utils\"\n\ntype PortalContext = HTMLDivElement | null\n\nexport const [PortalProvider, usePortal] = createContext<PortalContext>({\n  strict: false,\n  name: \"PortalContext\",\n})\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAAA,gBAAoC;AAEpC,mBAAkC;AAClC,uBAA6B;;;ACH7B,mBAA8B;AAIvB,IAAM,CAAC,gBAAgB,SAAS,QAAI,4BAA6B;AAAA,EACtE,QAAQ;AAAA,EACR,MAAM;AACR,CAAC;;;ADyCO;AArCD,IAAM,kBAA4C,CAAC;AAAA,EACxD;AAAA,EACA;AAAA,EACA;AACF,MAAM;AACJ,QAAM,SAAS,aAAa;AAC5B,QAAM,OACJ,0BAAW,OAAO,WAAW,cAAc,SAAS,OAAO;AAE7D,QAAM,aAAS,sBAAQ,MAAM;AAC3B,QAAI,CAAC;AAAQ;AAEb,UAAM,EAAE,cAAc,IAAI;AAE1B,UAAM,OAAO,cAAc,cAAc,KAAK;AAE9C,QAAI;AAAM,WAAK,YAAY;AAE3B,WAAO;AAAA,EACT,GAAG,CAAC,MAAM,CAAC;AAEX,QAAM,CAAC,EAAE,WAAW,QAAI,uBAAS,CAAC,CAAC;AAEnC,yCAAoB,MAAM,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;AAE7C,yCAAoB,MAAM;AACxB,QAAI,CAAC,UAAU,CAAC;AAAM;AAEtB,SAAK,YAAY,MAAM;AAEvB,WAAO,MAAM;AACX,WAAK,YAAY,MAAM;AAAA,IACzB;AAAA,EACF,GAAG,CAAC,QAAQ,IAAI,CAAC;AAEjB,SAAO,QAAQ,aACX;AAAA,IACE,4CAAC,kBAAe,OAAO,uBAAuB,SAAS,MACpD,UACH;AAAA,IACA;AAAA,EACF,IACA;AACN;","names":["import_utils"]}