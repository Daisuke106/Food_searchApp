"use client"
import {
  MenuGroup
} from "./chunk-JVRMLEOK.mjs";
import {
  MenuOptionItem
} from "./chunk-UTYWCSIS.mjs";

// src/menu-option-group.tsx
import { useControllableState } from "@yamada-ui/use-controllable-state";
import { cx, getValidChildren, isArray } from "@yamada-ui/utils";
import { cloneElement, forwardRef, useCallback } from "react";
import { jsx } from "react/jsx-runtime";
var MenuOptionGroup = forwardRef(
  ({
    className,
    value: valueProp,
    defaultValue,
    onChange: onChangeProp,
    type,
    children,
    ...rest
  }, ref) => {
    const isRadio = type === "radio";
    defaultValue != null ? defaultValue : defaultValue = isRadio ? "" : [];
    const [value, setValue] = useControllableState({
      value: valueProp,
      defaultValue,
      onChange: onChangeProp
    });
    const onChange = useCallback(
      (selectedValue) => {
        if (isRadio && typeof value === "string")
          setValue(selectedValue);
        if (!isRadio && isArray(value)) {
          const nextValue = value.includes(selectedValue) ? value.filter((item) => item !== selectedValue) : value.concat(selectedValue);
          setValue(nextValue);
        }
      },
      [isRadio, value, setValue]
    );
    const validChildren = getValidChildren(children);
    const cloneChildren = validChildren.map((child) => {
      if (child.type !== MenuOptionItem)
        return child;
      const onClick = (ev) => {
        var _a, _b;
        onChange(child.props.value);
        (_b = (_a = child.props).onClick) == null ? void 0 : _b.call(_a, ev);
      };
      const isChecked = !isRadio && isArray(value) ? value.includes(child.props.value) : child.props.value === value;
      return cloneElement(child, { type, onClick, isChecked });
    });
    return /* @__PURE__ */ jsx(
      MenuGroup,
      {
        ref,
        className: cx("ui-menu__item--group--option", className),
        ...rest,
        children: cloneChildren
      }
    );
  }
);
MenuOptionGroup.displayName = "MenuOptionGroup";

export {
  MenuOptionGroup
};
//# sourceMappingURL=chunk-66RA5MSJ.mjs.map