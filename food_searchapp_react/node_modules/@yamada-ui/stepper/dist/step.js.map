{"version":3,"sources":["../src/step.tsx","../src/use-stepper.ts"],"sourcesContent":["import type { CSSUIObject, HTMLUIProps } from \"@yamada-ui/core\"\nimport { ui, forwardRef } from \"@yamada-ui/core\"\nimport { cx, createContext, dataAttr } from \"@yamada-ui/utils\"\nimport type { UseStepReturn } from \"./use-stepper\"\nimport { useStep, useStepperContext } from \"./use-stepper\"\n\nexport type StepContext = Omit<UseStepReturn, \"getStepProps\">\n\nexport const [StepProvider, useStepContext] = createContext<StepContext>({\n  name: \"StepperContext\",\n  errorMessage: `useStepContext returned is 'undefined'. Seems you forgot to wrap the components in \"<Step />\"`,\n})\n\nexport type StepProps = HTMLUIProps<\"div\">\n\nexport const Step = forwardRef<StepProps, \"div\">(\n  ({ className, ...rest }, ref) => {\n    const { orientation, showLastSeparator, styles } = useStepperContext()\n    const { index, status, isFirst, isLast, getStepProps } = useStep()\n\n    const css: CSSUIObject = { ...styles.step }\n\n    return (\n      <StepProvider value={{ index, status, isFirst, isLast }}>\n        <ui.div\n          className={cx(\"ui-step\", className)}\n          __css={css}\n          data-orientation={orientation}\n          data-stretch={dataAttr(showLastSeparator)}\n          {...getStepProps(rest, ref)}\n        />\n      </StepProvider>\n    )\n  },\n)\n","import type { CSSUIObject, HTMLUIProps, UIPropGetter } from \"@yamada-ui/core\"\nimport { createDescendant } from \"@yamada-ui/use-descendant\"\nimport { createContext, mergeRefs } from \"@yamada-ui/utils\"\nimport { useCallback } from \"react\"\n\ntype StepperContext = Omit<\n  UseStepperReturn,\n  \"descendants\" | \"getContainerProps\"\n> & {\n  styles: Record<string, CSSUIObject>\n}\n\nexport const {\n  DescendantsContextProvider: StepperDescendantsContextProvider,\n  useDescendants: useStepperDescendants,\n  useDescendant: useStepperDescendant,\n} = createDescendant<HTMLDivElement>()\n\nexport const [StepperProvider, useStepperContext] =\n  createContext<StepperContext>({\n    name: \"StepperContext\",\n    errorMessage: `useStepperContext returned is 'undefined'. Seems you forgot to wrap the components in \"<Stepper />\"`,\n  })\n\nexport type UseStepperProps = HTMLUIProps<\"div\"> & {\n  /**\n   * The active step index.\n   */\n  index: number\n  /**\n   * The orientation of the stepper.\n   *\n   * @default 'horizontal'\n   */\n  orientation?: \"horizontal\" | \"vertical\"\n  /**\n   * Whether to show or not the last separator while in vertical orientation.\n   *\n   * @default false\n   */\n  showLastSeparator?: boolean\n}\n\nexport const useStepper = ({\n  index,\n  orientation = \"horizontal\",\n  showLastSeparator = false,\n  ...rest\n}: UseStepperProps) => {\n  const descendants = useStepperDescendants()\n\n  const getStepStatus = useCallback(\n    (step: number): \"complete\" | \"active\" | \"incomplete\" => {\n      if (step < index) return \"complete\"\n      if (step > index) return \"incomplete\"\n\n      return \"active\"\n    },\n    [index],\n  )\n\n  const getContainerProps: UIPropGetter = useCallback(\n    (props = {}, ref = null) => ({\n      ...rest,\n      ...props,\n      ref,\n      \"data-orientation\": orientation,\n    }),\n    [orientation, rest],\n  )\n\n  return {\n    descendants,\n    index,\n    orientation,\n    showLastSeparator,\n    getStepStatus,\n    getContainerProps,\n  }\n}\n\nexport type UseStepperReturn = ReturnType<typeof useStepper>\n\nexport const useStep = () => {\n  const { orientation, getStepStatus } = useStepperContext()\n\n  const { index, register, descendants } = useStepperDescendant()\n\n  const isFirst = index === 0\n  const isLast = index === descendants.lastValue()?.index\n\n  const status = getStepStatus(index)\n\n  const getStepProps: UIPropGetter = useCallback(\n    (props = {}, ref = null) => ({\n      ...props,\n      ref: mergeRefs(ref, register),\n      \"data-status\": status,\n      \"data-orientation\": orientation,\n    }),\n    [orientation, register, status],\n  )\n\n  return { index, status, isFirst, isLast, getStepProps }\n}\n\nexport type UseStepReturn = ReturnType<typeof useStep>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,kBAA+B;AAC/B,IAAAA,gBAA4C;;;ACD5C,4BAAiC;AACjC,mBAAyC;AACzC,mBAA4B;AASrB,IAAM;AAAA,EACX,4BAA4B;AAAA,EAC5B,gBAAgB;AAAA,EAChB,eAAe;AACjB,QAAI,wCAAiC;AAE9B,IAAM,CAAC,iBAAiB,iBAAiB,QAC9C,4BAA8B;AAAA,EAC5B,MAAM;AAAA,EACN,cAAc;AAChB,CAAC;AA6DI,IAAM,UAAU,MAAM;AAnF7B;AAoFE,QAAM,EAAE,aAAa,cAAc,IAAI,kBAAkB;AAEzD,QAAM,EAAE,OAAO,UAAU,YAAY,IAAI,qBAAqB;AAE9D,QAAM,UAAU,UAAU;AAC1B,QAAM,SAAS,YAAU,iBAAY,UAAU,MAAtB,mBAAyB;AAElD,QAAM,SAAS,cAAc,KAAK;AAElC,QAAM,mBAA6B;AAAA,IACjC,CAAC,QAAQ,CAAC,GAAG,MAAM,UAAU;AAAA,MAC3B,GAAG;AAAA,MACH,SAAK,wBAAU,KAAK,QAAQ;AAAA,MAC5B,eAAe;AAAA,MACf,oBAAoB;AAAA,IACtB;AAAA,IACA,CAAC,aAAa,UAAU,MAAM;AAAA,EAChC;AAEA,SAAO,EAAE,OAAO,QAAQ,SAAS,QAAQ,aAAa;AACxD;;;ADhFQ;AAhBD,IAAM,CAAC,cAAc,cAAc,QAAI,6BAA2B;AAAA,EACvE,MAAM;AAAA,EACN,cAAc;AAChB,CAAC;AAIM,IAAM,WAAO;AAAA,EAClB,CAAC,EAAE,WAAW,GAAG,KAAK,GAAG,QAAQ;AAC/B,UAAM,EAAE,aAAa,mBAAmB,OAAO,IAAI,kBAAkB;AACrE,UAAM,EAAE,OAAO,QAAQ,SAAS,QAAQ,aAAa,IAAI,QAAQ;AAEjE,UAAM,MAAmB,EAAE,GAAG,OAAO,KAAK;AAE1C,WACE,4CAAC,gBAAa,OAAO,EAAE,OAAO,QAAQ,SAAS,OAAO,GACpD;AAAA,MAAC,eAAG;AAAA,MAAH;AAAA,QACC,eAAW,kBAAG,WAAW,SAAS;AAAA,QAClC,OAAO;AAAA,QACP,oBAAkB;AAAA,QAClB,oBAAc,wBAAS,iBAAiB;AAAA,QACvC,GAAG,aAAa,MAAM,GAAG;AAAA;AAAA,IAC5B,GACF;AAAA,EAEJ;AACF;","names":["import_utils"]}