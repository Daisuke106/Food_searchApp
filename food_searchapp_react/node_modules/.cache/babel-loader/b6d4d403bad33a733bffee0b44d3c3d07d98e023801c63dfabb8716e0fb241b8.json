{"ast":null,"code":"\"use client\";\n\n// src/highlight.tsx\nimport { ui, forwardRef, useComponentStyle, omitThemeProps } from \"@yamada-ui/core\";\nimport { Text } from \"@yamada-ui/typography\";\nimport { cx, isArray } from \"@yamada-ui/utils\";\nimport { Fragment, useMemo } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar escapeRegexp = term => term.replace(/[|\\\\{}()[\\]^$+*?.-]/g, char => \"\\\\\".concat(char));\nvar buildRegex = query => {\n  query = query.filter(Boolean).map(text => escapeRegexp(text.trim()));\n  if (query.length) return new RegExp(\"(\".concat(query.join(\"|\"), \")\"), \"ig\");\n};\nvar highlightWords = _ref => {\n  let {\n    text,\n    query\n  } = _ref;\n  const regex = buildRegex(isArray(query) ? query : [query]);\n  if (!regex) return [{\n    text,\n    match: false\n  }];\n  return text.split(regex).filter(Boolean).map(text2 => ({\n    text: text2,\n    match: regex.test(text2)\n  }));\n};\nvar useHighlight = _ref2 => {\n  let {\n    text,\n    query\n  } = _ref2;\n  return useMemo(() => highlightWords({\n    text,\n    query\n  }), [text, query]);\n};\nvar Highlight = _ref3 => {\n  let {\n    isFragment = false,\n    query,\n    children: text,\n    markProps,\n    lineHeight = \"tall\",\n    ...rest\n  } = _ref3;\n  if (typeof text !== \"string\") throw new Error(\"The children prop of Highlight must be a string\");\n  const chunks = useHighlight({\n    query,\n    text\n  });\n  const Component = isFragment ? Fragment : Text;\n  return /* @__PURE__ */jsx(Component, {\n    ...(!isFragment ? {\n      lineHeight\n    } : {}),\n    ...rest,\n    children: chunks.map((_ref4, i) => {\n      let {\n        text: text2,\n        match\n      } = _ref4;\n      return match ? /* @__PURE__ */jsx(Mark, {\n        ...markProps,\n        children: text2\n      }, i) : /* @__PURE__ */jsx(Fragment, {\n        children: text2\n      }, i);\n    })\n  });\n};\nvar Mark = forwardRef((props, ref) => {\n  const [styles, mergedProps] = useComponentStyle(\"Mark\", props);\n  const {\n    className,\n    ...rest\n  } = omitThemeProps(mergedProps);\n  const css = {\n    bg: \"transparent\",\n    whiteSpace: \"nowrap\",\n    ...styles\n  };\n  return /* @__PURE__ */jsx(ui.mark, {\n    ref,\n    className: cx(\"ui-mark\", className),\n    __css: css,\n    ...rest\n  });\n});\nexport { useHighlight, Highlight, Mark };","map":{"version":3,"names":["ui","forwardRef","useComponentStyle","omitThemeProps","Text","cx","isArray","Fragment","useMemo","jsx","escapeRegexp","term","replace","char","concat","buildRegex","query","filter","Boolean","map","text","trim","length","RegExp","join","highlightWords","_ref","regex","match","split","text2","test","useHighlight","_ref2","Highlight","_ref3","isFragment","children","markProps","lineHeight","rest","Error","chunks","Component","_ref4","i","Mark","props","ref","styles","mergedProps","className","css","bg","whiteSpace","mark","__css"],"sources":["C:\\チーム開発\\Food_searchApp\\food_searchapp_react\\node_modules\\@yamada-ui\\highlight\\src\\highlight.tsx"],"sourcesContent":["/**\n * `Highlight` is a component that highlights specified strings within text. By default, it renders a `p` element.\n *\n * @see Docs https://yamada-ui.com/components/typography/highlight\n */\nimport type { HTMLUIProps, ThemeProps, CSSUIObject } from \"@yamada-ui/core\"\nimport {\n  ui,\n  forwardRef,\n  useComponentStyle,\n  omitThemeProps,\n} from \"@yamada-ui/core\"\nimport type { TextProps } from \"@yamada-ui/typography\"\nimport { Text } from \"@yamada-ui/typography\"\nimport { cx, isArray } from \"@yamada-ui/utils\"\nimport type { FC, ReactNode } from \"react\"\nimport { Fragment, useMemo } from \"react\"\n\ntype Options = { text: string; query: string | string[] }\n\ntype Chunk = { text: string; match: boolean }\n\nconst escapeRegexp = (term: string): string =>\n  term.replace(/[|\\\\{}()[\\]^$+*?.-]/g, (char: string) => `\\\\${char}`)\n\nconst buildRegex = (query: string[]): RegExp | undefined => {\n  query = query.filter(Boolean).map((text) => escapeRegexp(text.trim()))\n\n  if (query.length) return new RegExp(`(${query.join(\"|\")})`, \"ig\")\n}\n\nconst highlightWords = ({ text, query }: Options): Chunk[] => {\n  const regex = buildRegex(isArray(query) ? query : [query])\n\n  if (!regex) return [{ text, match: false }]\n\n  return text\n    .split(regex)\n    .filter(Boolean)\n    .map((text) => ({ text, match: regex.test(text) }))\n}\n\nexport const useHighlight = ({ text, query }: Options): Chunk[] =>\n  useMemo(() => highlightWords({ text, query }), [text, query])\n\nexport type HighlightProps = TextProps & {\n  /**\n   * If `true`, `Fragment` is used for rendering.\n   *\n   * @default false\n   */\n  isFragment?: boolean\n  /**\n   * Can be a single string or an array of strings. These are the terms that are highlighted in the text.\n   */\n  query: string | string[]\n  /**\n   * Accepts a string or a function. If it's a function, it should return a `ReactNode` and accept an array of `Chunk` objects as its argument.\n   */\n  children: string | ((props: Chunk[]) => ReactNode)\n  /**\n   * Properties passed to the Mark component which is used to highlight the matched terms.\n   */\n  markProps?: MarkProps\n}\n\nexport const Highlight: FC<HighlightProps> = ({\n  isFragment = false,\n  query,\n  children: text,\n  markProps,\n  lineHeight = \"tall\",\n  ...rest\n}) => {\n  if (typeof text !== \"string\")\n    throw new Error(\"The children prop of Highlight must be a string\")\n\n  const chunks = useHighlight({ query, text })\n\n  const Component: FC = isFragment ? Fragment : Text\n\n  return (\n    <Component {...(!isFragment ? { lineHeight } : {})} {...rest}>\n      {chunks.map(({ text, match }, i) =>\n        match ? (\n          <Mark key={i} {...markProps}>\n            {text}\n          </Mark>\n        ) : (\n          <Fragment key={i}>{text}</Fragment>\n        ),\n      )}\n    </Component>\n  )\n}\n\nexport type MarkProps = HTMLUIProps<\"mark\"> & ThemeProps<\"Mark\">\n\nexport const Mark = forwardRef<MarkProps, \"mark\">((props, ref) => {\n  const [styles, mergedProps] = useComponentStyle(\"Mark\", props)\n  const { className, ...rest } = omitThemeProps(mergedProps)\n\n  const css: CSSUIObject = {\n    bg: \"transparent\",\n    whiteSpace: \"nowrap\",\n    ...styles,\n  }\n\n  return (\n    <ui.mark\n      ref={ref}\n      className={cx(\"ui-mark\", className)}\n      __css={css}\n      {...rest}\n    />\n  )\n})\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}