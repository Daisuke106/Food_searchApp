{"ast":null,"code":"\"use client\";\n\n// src/use-saturation-slider.ts\nimport { useFormControlProps, formControlProperties, getFormControlProperties } from \"@yamada-ui/form-control\";\nimport { useControllableState } from \"@yamada-ui/use-controllable-state\";\nimport { useLatestRef } from \"@yamada-ui/use-latest-ref\";\nimport { usePanEvent } from \"@yamada-ui/use-pan-event\";\nimport { useSize } from \"@yamada-ui/use-size\";\nimport { omitObject, dataAttr, handlerAll, mergeRefs, useCallbackRef, runIfFunc, clampNumber, hsvTo, roundNumberToStep, pickObject, useUpdateEffect } from \"@yamada-ui/utils\";\nimport { useCallback, useMemo, useRef, useState } from \"react\";\nvar defaultOverlays = withShadow => {\n  let overlays = [_ref => {\n    let [h] = _ref;\n    return {\n      bg: \"hsl(\".concat(h, \", 100%, 50%)\"),\n      bgImage: \"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, transparent)\"\n    };\n  }];\n  if (withShadow) overlays = [...overlays, {\n    boxShadow: \"rgba(0, 0, 0, .1) 0 0 0 1px inset, rgb(0, 0, 0, .15) 0 0 4px inset\"\n  }];\n  return overlays;\n};\nvar useSaturationSlider = _ref2 => {\n  let {\n    focusThumbOnChange = true,\n    ...props\n  } = _ref2;\n  if (!focusThumbOnChange) props.isReadOnly = true;\n  let {\n    id,\n    name,\n    value: valueProp,\n    defaultValue = [0, 0, 1],\n    onChange: onChangeProp,\n    onChangeStart: onChangeStartProp,\n    onChangeEnd: onChangeEndProp,\n    step = 0.01,\n    thumbColor,\n    required,\n    disabled,\n    readOnly,\n    withShadow = true,\n    overlays: overlaysProp = defaultOverlays(withShadow),\n    ...rest\n  } = useFormControlProps(props);\n  const onChangeStart = useCallbackRef(onChangeStartProp);\n  const onChangeEnd = useCallbackRef(onChangeEndProp);\n  const [value, setValue] = useControllableState({\n    value: valueProp,\n    defaultValue,\n    onChange: onChangeProp\n  });\n  const [isDragging, setDragging] = useState(false);\n  const isInteractive = !(disabled || readOnly);\n  let [h, s, v] = value;\n  s = clampNumber(s, 0, 1);\n  v = clampNumber(v, 0, 1);\n  const containerRef = useRef(null);\n  const trackRef = useRef(null);\n  const thumbRef = useRef(null);\n  const latestRef = useLatestRef({\n    value,\n    step,\n    isInteractive,\n    eventSource: null,\n    focusThumbOnChange\n  });\n  const thumbSize = useSize(thumbRef);\n  const overlays = useMemo(() => overlaysProp.map(propsOrFunc => runIfFunc(propsOrFunc, [h, s, v])), [overlaysProp, h, s, v]);\n  const getValueFromPointer = useCallback(ev => {\n    var _a, _b;\n    if (!trackRef.current) return [];\n    const {\n      step: step2\n    } = latestRef.current;\n    latestRef.current.eventSource = \"pointer\";\n    const {\n      bottom,\n      left,\n      height,\n      width\n    } = trackRef.current.getBoundingClientRect();\n    const {\n      clientX,\n      clientY\n    } = (_b = (_a = ev.touches) == null ? void 0 : _a[0]) != null ? _b : ev;\n    let s2 = clampNumber((clientX - left) / width, 0, 1);\n    let v2 = clampNumber((bottom - clientY) / height, 0, 1);\n    if (step2) {\n      s2 = parseFloat(roundNumberToStep(s2, 0, step2));\n      v2 = parseFloat(roundNumberToStep(v2, 0, step2));\n    }\n    return [s2, v2];\n  }, [latestRef]);\n  const setValueFromPointer = ev => {\n    const {\n      value: value2\n    } = latestRef.current;\n    const [nextS, nextV] = getValueFromPointer(ev);\n    if (nextS == null || nextV == null) return;\n    const [, s2, v2] = value2;\n    if (nextS !== s2 || nextV !== v2) setValue(_ref3 => {\n      let [h2] = _ref3;\n      return [h2, nextS, nextV];\n    });\n  };\n  const focusThumb = useCallback(() => {\n    const {\n      focusThumbOnChange: focusThumbOnChange2\n    } = latestRef.current;\n    if (focusThumbOnChange2) setTimeout(() => {\n      var _a;\n      return (_a = thumbRef.current) == null ? void 0 : _a.focus();\n    });\n  }, [latestRef]);\n  const constrain = useCallback(_ref4 => {\n    let [s2, v2] = _ref4;\n    const {\n      isInteractive: isInteractive2\n    } = latestRef.current;\n    if (!isInteractive2) return;\n    s2 = clampNumber(s2, 0, 1);\n    v2 = clampNumber(v2, 0, 1);\n    setValue(_ref5 => {\n      let [h2] = _ref5;\n      return [h2, s2, v2];\n    });\n  }, [latestRef, setValue]);\n  const onKeyDown = useCallback(ev => {\n    const actions = {\n      ArrowRight: () => constrain([s + step, v]),\n      ArrowUp: () => constrain([s, v + step]),\n      ArrowLeft: () => constrain([s - step, v]),\n      ArrowDown: () => constrain([s, v - step])\n    };\n    const action = actions[ev.key];\n    if (!action) return;\n    ev.preventDefault();\n    ev.stopPropagation();\n    action(ev);\n    latestRef.current.eventSource = \"keyboard\";\n  }, [latestRef, constrain, s, v, step]);\n  usePanEvent(containerRef, {\n    onSessionStart: ev => {\n      const {\n        isInteractive: isInteractive2,\n        value: value2\n      } = latestRef.current;\n      if (!isInteractive2) return;\n      setDragging(true);\n      focusThumb();\n      setValueFromPointer(ev);\n      onChangeStart(value2);\n    },\n    onSessionEnd: () => {\n      const {\n        isInteractive: isInteractive2,\n        value: value2\n      } = latestRef.current;\n      if (!isInteractive2) return;\n      setDragging(false);\n      onChangeEnd(value2);\n    },\n    onMove: ev => {\n      const {\n        isInteractive: isInteractive2\n      } = latestRef.current;\n      if (!isInteractive2) return;\n      setValueFromPointer(ev);\n    }\n  });\n  useUpdateEffect(() => {\n    const {\n      eventSource,\n      value: value2\n    } = latestRef.current;\n    if (eventSource === \"keyboard\") onChangeEnd(value2);\n  }, [value, onChangeEnd]);\n  const getContainerProps = useCallback(function () {\n    let props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return {\n      ...props2,\n      ...omitObject(rest, [\"aria-readonly\"]),\n      ref: mergeRefs(ref, containerRef),\n      tabIndex: -1\n    };\n  }, [rest]);\n  const getInnerProps = useCallback(function () {\n    let props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    const {\n      width: w\n    } = thumbSize != null ? thumbSize : {\n      width: 0\n    };\n    const style = {\n      ...props2.style,\n      ...rest.style,\n      padding: \"\".concat(w / 2, \"px\")\n    };\n    return {\n      ...props2,\n      ref,\n      style\n    };\n  }, [rest, thumbSize]);\n  const getInputProps = useCallback(function () {\n    let props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return {\n      ...pickObject(rest, formControlProperties),\n      ...props2,\n      id,\n      ref,\n      type: \"hidden\",\n      name,\n      value: [h, s, v].toString(),\n      required,\n      disabled,\n      readOnly\n    };\n  }, [disabled, id, name, readOnly, required, rest, h, s, v]);\n  const getTrackProps = useCallback(function () {\n    let props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return {\n      ...pickObject(rest, getFormControlProperties({\n        omit: [\"aria-readonly\"]\n      })),\n      ...props2,\n      ref: mergeRefs(ref, trackRef)\n    };\n  }, [rest]);\n  const getThumbProps = useCallback(function () {\n    let props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    const {\n      width,\n      height\n    } = thumbSize != null ? thumbSize : {\n      width: 0,\n      height: 0\n    };\n    const x = s * 100;\n    const y = v * 100;\n    const style = {\n      ...props2.style,\n      position: \"absolute\",\n      userSelect: \"none\",\n      touchAction: \"none\",\n      left: \"calc(\".concat(x, \"% - \").concat(width / 2, \"px)\"),\n      bottom: \"calc(\".concat(y, \"% - \").concat(height / 2, \"px)\")\n    };\n    return {\n      \"aria-label\": \"Saturation and brightness thumb\",\n      bg: thumbColor != null ? thumbColor : hsvTo([h, s, v])(),\n      ...pickObject(rest, formControlProperties),\n      ...props2,\n      ref: mergeRefs(ref, thumbRef),\n      tabIndex: isInteractive && focusThumbOnChange ? 0 : void 0,\n      role: \"slider\",\n      \"aria-valuenow\": s,\n      \"aria-valuemin\": 0,\n      \"aria-valuemax\": 100,\n      \"aria-valuetext\": \"saturation \".concat(s, \", brightness \").concat(v),\n      \"data-active\": dataAttr(isDragging && focusThumbOnChange),\n      onKeyDown: handlerAll(props2.onKeyDown, onKeyDown),\n      onFocus: handlerAll(props2.onFocus, rest.onFocus),\n      onBlur: handlerAll(props2.onBlur, rest.onBlur),\n      style\n    };\n  }, [h, s, v, thumbColor, focusThumbOnChange, isDragging, isInteractive, onKeyDown, rest, thumbSize]);\n  return {\n    value,\n    overlays,\n    getContainerProps,\n    getInnerProps,\n    getTrackProps,\n    getInputProps,\n    getThumbProps\n  };\n};\nexport { useSaturationSlider };","map":{"version":3,"names":["useFormControlProps","formControlProperties","getFormControlProperties","useControllableState","useLatestRef","usePanEvent","useSize","omitObject","dataAttr","handlerAll","mergeRefs","useCallbackRef","runIfFunc","clampNumber","hsvTo","roundNumberToStep","pickObject","useUpdateEffect","useCallback","useMemo","useRef","useState","defaultOverlays","withShadow","overlays","_ref","h","bg","concat","bgImage","boxShadow","useSaturationSlider","_ref2","focusThumbOnChange","props","isReadOnly","id","name","value","valueProp","defaultValue","onChange","onChangeProp","onChangeStart","onChangeStartProp","onChangeEnd","onChangeEndProp","step","thumbColor","required","disabled","readOnly","overlaysProp","rest","setValue","isDragging","setDragging","isInteractive","s","v","containerRef","trackRef","thumbRef","latestRef","eventSource","thumbSize","map","propsOrFunc","getValueFromPointer","ev","_a","_b","current","step2","bottom","left","height","width","getBoundingClientRect","clientX","clientY","touches","s2","v2","parseFloat","setValueFromPointer","value2","nextS","nextV","_ref3","h2","focusThumb","focusThumbOnChange2","setTimeout","focus","constrain","_ref4","isInteractive2","_ref5","onKeyDown","actions","ArrowRight","ArrowUp","ArrowLeft","ArrowDown","action","key","preventDefault","stopPropagation","onSessionStart","onSessionEnd","onMove","getContainerProps","props2","arguments","length","undefined","ref","tabIndex","getInnerProps","w","style","padding","getInputProps","type","toString","getTrackProps","omit","getThumbProps","x","y","position","userSelect","touchAction","role","onFocus","onBlur"],"sources":["C:\\チーム開発\\Food_searchApp\\food_searchapp_react\\node_modules\\@yamada-ui\\color-picker\\src\\use-saturation-slider.ts"],"sourcesContent":["import type { CSSUIProps, HTMLUIProps, UIPropGetter } from \"@yamada-ui/core\"\nimport {\n  useFormControlProps,\n  type FormControlOptions,\n  formControlProperties,\n  getFormControlProperties,\n} from \"@yamada-ui/form-control\"\nimport { useControllableState } from \"@yamada-ui/use-controllable-state\"\nimport { useLatestRef } from \"@yamada-ui/use-latest-ref\"\nimport { usePanEvent } from \"@yamada-ui/use-pan-event\"\nimport { useSize } from \"@yamada-ui/use-size\"\nimport {\n  omitObject,\n  dataAttr,\n  handlerAll,\n  mergeRefs,\n  useCallbackRef,\n  runIfFunc,\n  clampNumber,\n  hsvTo,\n  roundNumberToStep,\n  pickObject,\n  useUpdateEffect,\n} from \"@yamada-ui/utils\"\nimport type { CSSProperties, KeyboardEvent, KeyboardEventHandler } from \"react\"\nimport { useCallback, useMemo, useRef, useState } from \"react\"\n\nexport type Hsv = [number, number, number]\ntype Overlay = HTMLUIProps<\"div\"> | ((value: Hsv) => HTMLUIProps<\"div\">)\n\nconst defaultOverlays = (withShadow: boolean): Overlay[] => {\n  let overlays: Overlay[] = [\n    ([h]) => ({\n      bg: `hsl(${h}, 100%, 50%)`,\n      bgImage:\n        \"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, transparent)\",\n    }),\n  ]\n\n  if (withShadow)\n    overlays = [\n      ...overlays,\n      {\n        boxShadow: `rgba(0, 0, 0, .1) 0 0 0 1px inset, rgb(0, 0, 0, .15) 0 0 4px inset`,\n      },\n    ]\n\n  return overlays\n}\n\ntype UseSaturationSliderOptions = {\n  /**\n   * The base `id` to use for the saturation slider.\n   */\n  id?: string\n  /**\n   * The name attribute of the hidden `input` field.\n   * This is particularly useful in forms.\n   */\n  name?: string\n  /**\n   * The value of the saturation slider.\n   */\n  value?: Hsv\n  /**\n   * The initial value of the saturation slider.\n   *\n   * @default \"[0, 0, 1]\"\n   */\n  defaultValue?: Hsv\n  /**\n   * Function called whenever the saturation slider value changes.\n   */\n  onChange?: (value: Hsv) => void\n  /**\n   * Function called when the user starts selecting a new value.\n   */\n  onChangeStart?: (value: Hsv) => void\n  /**\n   * Function called when the user is done selecting a new value.\n   */\n  onChangeEnd?: (value: Hsv) => void\n  /**\n   * The step in which increments or decrements have to be made.\n   *\n   * @default 0.01\n   */\n  step?: number\n  /**\n   * If `false`, the saturation slider handle will not capture focus when value changes.\n   *\n   * @default true\n   */\n  focusThumbOnChange?: boolean\n  /**\n   * The CSS `background` property. Used in `background` of thumb element.\n   */\n  thumbColor?: CSSUIProps[\"bg\"]\n  /**\n   * If `true`, the slider has an inner `box-shadow`.\n   *\n   * @default true\n   */\n  withShadow?: boolean\n  /**\n   * The overlay used for the saturation slider.\n   */\n  overlays?: Overlay[]\n}\n\nexport type UseSaturationSliderProps = Omit<\n  HTMLUIProps<\"div\">,\n  \"defaultValue\" | \"onChange\"\n> &\n  UseSaturationSliderOptions &\n  FormControlOptions\n\nexport const useSaturationSlider = ({\n  focusThumbOnChange = true,\n  ...props\n}: UseSaturationSliderProps) => {\n  if (!focusThumbOnChange) props.isReadOnly = true\n\n  let {\n    id,\n    name,\n    value: valueProp,\n    defaultValue = [0, 0, 1],\n    onChange: onChangeProp,\n    onChangeStart: onChangeStartProp,\n    onChangeEnd: onChangeEndProp,\n    step = 0.01,\n    thumbColor,\n    required,\n    disabled,\n    readOnly,\n    withShadow = true,\n    overlays: overlaysProp = defaultOverlays(withShadow),\n    ...rest\n  } = useFormControlProps(props)\n\n  const onChangeStart = useCallbackRef(onChangeStartProp)\n  const onChangeEnd = useCallbackRef(onChangeEndProp)\n\n  const [value, setValue] = useControllableState({\n    value: valueProp,\n    defaultValue,\n    onChange: onChangeProp,\n  })\n  const [isDragging, setDragging] = useState(false)\n  const isInteractive = !(disabled || readOnly)\n  let [h, s, v] = value\n\n  s = clampNumber(s, 0, 1)\n  v = clampNumber(v, 0, 1)\n\n  const containerRef = useRef<HTMLElement>(null)\n  const trackRef = useRef<HTMLElement>(null)\n  const thumbRef = useRef<HTMLElement>(null)\n  const latestRef = useLatestRef({\n    value,\n    step,\n    isInteractive,\n    eventSource: null as \"pointer\" | \"keyboard\" | null,\n    focusThumbOnChange,\n  })\n\n  const thumbSize = useSize(thumbRef)\n\n  const overlays = useMemo(\n    () => overlaysProp.map((propsOrFunc) => runIfFunc(propsOrFunc, [h, s, v])),\n    [overlaysProp, h, s, v],\n  )\n\n  const getValueFromPointer = useCallback(\n    (ev: any) => {\n      if (!trackRef.current) return []\n\n      const { step } = latestRef.current\n\n      latestRef.current.eventSource = \"pointer\"\n\n      const { bottom, left, height, width } =\n        trackRef.current.getBoundingClientRect()\n      const { clientX, clientY } = ev.touches?.[0] ?? ev\n\n      let s = clampNumber((clientX - left) / width, 0, 1)\n      let v = clampNumber((bottom - clientY) / height, 0, 1)\n\n      if (step) {\n        s = parseFloat(roundNumberToStep(s, 0, step))\n        v = parseFloat(roundNumberToStep(v, 0, step))\n      }\n\n      return [s, v]\n    },\n    [latestRef],\n  )\n\n  const setValueFromPointer = (ev: MouseEvent | TouchEvent | PointerEvent) => {\n    const { value } = latestRef.current\n    const [nextS, nextV] = getValueFromPointer(ev)\n\n    if (nextS == null || nextV == null) return\n\n    const [, s, v] = value\n\n    if (nextS !== s || nextV !== v) setValue(([h]) => [h, nextS, nextV])\n  }\n\n  const focusThumb = useCallback(() => {\n    const { focusThumbOnChange } = latestRef.current\n\n    if (focusThumbOnChange) setTimeout(() => thumbRef.current?.focus())\n  }, [latestRef])\n\n  const constrain = useCallback(\n    ([s, v]: [number, number]) => {\n      const { isInteractive } = latestRef.current\n\n      if (!isInteractive) return\n\n      s = clampNumber(s, 0, 1)\n      v = clampNumber(v, 0, 1)\n\n      setValue(([h]) => [h, s, v])\n    },\n    [latestRef, setValue],\n  )\n\n  const onKeyDown = useCallback(\n    (ev: KeyboardEvent<HTMLElement>) => {\n      const actions: Record<string, KeyboardEventHandler> = {\n        ArrowRight: () => constrain([s + step, v]),\n        ArrowUp: () => constrain([s, v + step]),\n        ArrowLeft: () => constrain([s - step, v]),\n        ArrowDown: () => constrain([s, v - step]),\n      }\n\n      const action = actions[ev.key]\n\n      if (!action) return\n\n      ev.preventDefault()\n      ev.stopPropagation()\n\n      action(ev)\n\n      latestRef.current.eventSource = \"keyboard\"\n    },\n    [latestRef, constrain, s, v, step],\n  )\n\n  usePanEvent(containerRef, {\n    onSessionStart: (ev) => {\n      const { isInteractive, value } = latestRef.current\n\n      if (!isInteractive) return\n\n      setDragging(true)\n      focusThumb()\n      setValueFromPointer(ev)\n      onChangeStart(value)\n    },\n    onSessionEnd: () => {\n      const { isInteractive, value } = latestRef.current\n\n      if (!isInteractive) return\n\n      setDragging(false)\n      onChangeEnd(value)\n    },\n    onMove: (ev) => {\n      const { isInteractive } = latestRef.current\n\n      if (!isInteractive) return\n\n      setValueFromPointer(ev)\n    },\n  })\n\n  useUpdateEffect(() => {\n    const { eventSource, value } = latestRef.current\n\n    if (eventSource === \"keyboard\") onChangeEnd(value)\n  }, [value, onChangeEnd])\n\n  const getContainerProps: UIPropGetter = useCallback(\n    (props = {}, ref = null) => ({\n      ...props,\n      ...omitObject(rest, [\"aria-readonly\"]),\n      ref: mergeRefs(ref, containerRef),\n      tabIndex: -1,\n    }),\n    [rest],\n  )\n\n  const getInnerProps: UIPropGetter = useCallback(\n    (props = {}, ref = null) => {\n      const { width: w } = thumbSize ?? { width: 0 }\n\n      const style: CSSProperties = {\n        ...props.style,\n        ...rest.style,\n        padding: `${w / 2}px`,\n      }\n\n      return {\n        ...props,\n        ref,\n        style,\n      }\n    },\n    [rest, thumbSize],\n  )\n\n  const getInputProps: UIPropGetter<\"input\"> = useCallback(\n    (props = {}, ref = null) => ({\n      ...pickObject(rest, formControlProperties),\n      ...props,\n      id,\n      ref,\n      type: \"hidden\",\n      name,\n      value: [h, s, v].toString(),\n      required,\n      disabled,\n      readOnly,\n    }),\n    [disabled, id, name, readOnly, required, rest, h, s, v],\n  )\n\n  const getTrackProps: UIPropGetter = useCallback(\n    (props = {}, ref = null) => ({\n      ...pickObject(\n        rest,\n        getFormControlProperties({ omit: [\"aria-readonly\"] }),\n      ),\n      ...props,\n      ref: mergeRefs(ref, trackRef),\n    }),\n    [rest],\n  )\n\n  const getThumbProps: UIPropGetter = useCallback(\n    (props = {}, ref = null) => {\n      const { width, height } = thumbSize ?? { width: 0, height: 0 }\n      const x = s * 100\n      const y = v * 100\n\n      const style: CSSProperties = {\n        ...props.style,\n        position: \"absolute\",\n        userSelect: \"none\",\n        touchAction: \"none\",\n        left: `calc(${x}% - ${width / 2}px)`,\n        bottom: `calc(${y}% - ${height / 2}px)`,\n      }\n\n      return {\n        \"aria-label\": \"Saturation and brightness thumb\",\n        bg: thumbColor ?? hsvTo([h, s, v])(),\n        ...pickObject(rest, formControlProperties),\n        ...props,\n        ref: mergeRefs(ref, thumbRef),\n        tabIndex: isInteractive && focusThumbOnChange ? 0 : undefined,\n        role: \"slider\",\n        \"aria-valuenow\": s,\n        \"aria-valuemin\": 0,\n        \"aria-valuemax\": 100,\n        \"aria-valuetext\": `saturation ${s}, brightness ${v}`,\n        \"data-active\": dataAttr(isDragging && focusThumbOnChange),\n        onKeyDown: handlerAll(props.onKeyDown, onKeyDown),\n        onFocus: handlerAll(props.onFocus, rest.onFocus),\n        onBlur: handlerAll(props.onBlur, rest.onBlur),\n        style,\n      }\n    },\n    [\n      h,\n      s,\n      v,\n      thumbColor,\n      focusThumbOnChange,\n      isDragging,\n      isInteractive,\n      onKeyDown,\n      rest,\n      thumbSize,\n    ],\n  )\n\n  return {\n    value,\n    overlays,\n    getContainerProps,\n    getInnerProps,\n    getTrackProps,\n    getInputProps,\n    getThumbProps,\n  }\n}\n\nexport type UseSaturationSliderReturn = ReturnType<typeof useSaturationSlider>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}