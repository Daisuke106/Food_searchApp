{"ast":null,"code":"\"use client\";\n\nimport { noticeStore } from \"./chunk-C5HTYJYN.mjs\";\n\n// src/notice-provider.tsx\nimport { ui } from \"@yamada-ui/core\";\nimport { AnimatePresence, motion, useIsPresent } from \"@yamada-ui/motion\";\nimport { Portal } from \"@yamada-ui/portal\";\nimport { useTimeout } from \"@yamada-ui/use-timeout\";\nimport { cx, runIfFunc, useUpdateEffect } from \"@yamada-ui/utils\";\nimport { memo, useEffect, useState, useSyncExternalStore } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NoticeProvider = _ref => {\n  let {\n    variants,\n    gap = \"fallback(4, 1rem)\",\n    appendToParentPortal,\n    containerRef\n  } = _ref;\n  const state = useSyncExternalStore(noticeStore.subscribe, noticeStore.getSnapshot, noticeStore.getSnapshot);\n  const components = Object.entries(state).map(_ref2 => {\n    let [placement, notices] = _ref2;\n    const top = placement.includes(\"top\") ? \"env(safe-area-inset-top, 0px)\" : void 0;\n    const bottom = placement.includes(\"bottom\") ? \"env(safe-area-inset-bottom, 0px)\" : void 0;\n    const right = !placement.includes(\"left\") ? \"env(safe-area-inset-right, 0px)\" : void 0;\n    const left = !placement.includes(\"right\") ? \"env(safe-area-inset-left, 0px)\" : void 0;\n    const css = {\n      position: \"fixed\",\n      zIndex: \"fallback(zarbon, 160)\",\n      pointerEvents: \"none\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      margin: gap,\n      gap,\n      top,\n      bottom,\n      right,\n      left\n    };\n    return /* @__PURE__ */jsx(ui.ul, {\n      className: cx(\"ui-notice__list\", \"ui-notice__list--\".concat(placement)),\n      __css: css,\n      children: /* @__PURE__ */jsx(AnimatePresence, {\n        initial: false,\n        children: notices.map(notice => /* @__PURE__ */jsx(NoticeComponent, {\n          variants,\n          ...notice\n        }, notice.id))\n      })\n    }, placement);\n  });\n  return /* @__PURE__ */jsx(Portal, {\n    appendToParentPortal,\n    containerRef,\n    children: components\n  });\n};\nvar defaultVariants = {\n  initial: _ref3 => {\n    let {\n      placement\n    } = _ref3;\n    return {\n      opacity: 0,\n      [[\"top\", \"bottom\"].includes(placement) ? \"y\" : \"x\"]: (placement === \"bottom\" ? 1 : placement.includes(\"right\") ? 1 : -1) * 24\n    };\n  },\n  animate: {\n    opacity: 1,\n    y: 0,\n    x: 0,\n    scale: 1,\n    transition: {\n      duration: 0.4,\n      ease: [0.4, 0, 0.2, 1]\n    }\n  },\n  exit: {\n    opacity: 0,\n    scale: 0.95,\n    transition: {\n      duration: 0.2,\n      ease: [0.4, 0, 1, 1]\n    }\n  }\n};\nvar NoticeComponent = memo(_ref4 => {\n  let {\n    variants = defaultVariants,\n    placement,\n    duration = 5e3,\n    message,\n    onCloseComplete,\n    isDelete = false,\n    onDelete,\n    style\n  } = _ref4;\n  const [delay, setDelay] = useState(duration);\n  const isPresent = useIsPresent();\n  useUpdateEffect(() => {\n    if (!isPresent) onCloseComplete == null ? void 0 : onCloseComplete();\n  }, [isPresent]);\n  useUpdateEffect(() => {\n    setDelay(duration);\n  }, [duration]);\n  const onMouseEnter = () => setDelay(null);\n  const onMouseLeave = () => setDelay(duration);\n  const onClose = () => {\n    if (isPresent) onDelete();\n  };\n  useEffect(() => {\n    if (isPresent && isDelete) onDelete();\n  }, [isPresent, isDelete, onDelete]);\n  useTimeout(onClose, delay);\n  const css = {\n    pointerEvents: \"auto\",\n    maxW: \"36rem\",\n    minW: \"20rem\",\n    ...style\n  };\n  return /* @__PURE__ */jsx(motion.li, {\n    layout: true,\n    className: \"ui-notice__list__item\",\n    variants,\n    initial: \"initial\",\n    animate: \"animate\",\n    exit: \"exit\",\n    onHoverStart: onMouseEnter,\n    onHoverEnd: onMouseLeave,\n    custom: {\n      placement\n    },\n    style: {\n      display: \"flex\",\n      justifyContent: placement.includes(\"left\") ? \"flex-start\" : placement.includes(\"right\") ? \"flex-end\" : \"center\"\n    },\n    children: /* @__PURE__ */jsx(ui.div, {\n      className: \"ui-notice__list__item__inner\",\n      __css: css,\n      children: runIfFunc(message, {\n        onClose\n      })\n    })\n  });\n});\nNoticeComponent.displayName = \"NoticeComponent\";\nexport { NoticeProvider };","map":{"version":3,"names":["ui","AnimatePresence","motion","useIsPresent","Portal","useTimeout","cx","runIfFunc","useUpdateEffect","memo","useEffect","useState","useSyncExternalStore","jsx","NoticeProvider","_ref","variants","gap","appendToParentPortal","containerRef","state","noticeStore","subscribe","getSnapshot","components","Object","entries","map","_ref2","placement","notices","top","includes","bottom","right","left","css","position","zIndex","pointerEvents","display","flexDirection","margin","ul","className","concat","__css","children","initial","notice","NoticeComponent","id","defaultVariants","_ref3","opacity","animate","y","x","scale","transition","duration","ease","exit","_ref4","message","onCloseComplete","isDelete","onDelete","style","delay","setDelay","isPresent","onMouseEnter","onMouseLeave","onClose","maxW","minW","li","layout","onHoverStart","onHoverEnd","custom","justifyContent","div","displayName"],"sources":["C:\\チーム開発\\Food_searchApp\\food_searchapp_react\\node_modules\\@yamada-ui\\notice\\src\\notice-provider.tsx"],"sourcesContent":["import type { CSSUIObject, ThemeConfig } from \"@yamada-ui/core\"\nimport { ui } from \"@yamada-ui/core\"\nimport type { MotionVariants, MotionStyle } from \"@yamada-ui/motion\"\nimport { AnimatePresence, motion, useIsPresent } from \"@yamada-ui/motion\"\nimport { Portal } from \"@yamada-ui/portal\"\nimport { useTimeout } from \"@yamada-ui/use-timeout\"\nimport { cx, runIfFunc, useUpdateEffect } from \"@yamada-ui/utils\"\nimport type { FC } from \"react\"\nimport { memo, useEffect, useState, useSyncExternalStore } from \"react\"\nimport type { NoticeOptions } from \"./notice\"\nimport { noticeStore } from \"./notice\"\n\nexport type NoticeProviderProps = Omit<\n  Required<ThemeConfig>[\"notice\"],\n  \"options\"\n>\n\nexport const NoticeProvider: FC<NoticeProviderProps> = ({\n  variants,\n  gap = \"fallback(4, 1rem)\",\n  appendToParentPortal,\n  containerRef,\n}) => {\n  const state = useSyncExternalStore(\n    noticeStore.subscribe,\n    noticeStore.getSnapshot,\n    noticeStore.getSnapshot,\n  )\n\n  const components = Object.entries(state).map(([placement, notices]) => {\n    const top = placement.includes(\"top\")\n      ? \"env(safe-area-inset-top, 0px)\"\n      : undefined\n    const bottom = placement.includes(\"bottom\")\n      ? \"env(safe-area-inset-bottom, 0px)\"\n      : undefined\n    const right = !placement.includes(\"left\")\n      ? \"env(safe-area-inset-right, 0px)\"\n      : undefined\n    const left = !placement.includes(\"right\")\n      ? \"env(safe-area-inset-left, 0px)\"\n      : undefined\n\n    const css: CSSUIObject = {\n      position: \"fixed\",\n      zIndex: \"fallback(zarbon, 160)\",\n      pointerEvents: \"none\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      margin: gap,\n      gap,\n      top,\n      bottom,\n      right,\n      left,\n    }\n\n    return (\n      <ui.ul\n        key={placement}\n        className={cx(\"ui-notice__list\", `ui-notice__list--${placement}`)}\n        __css={css}\n      >\n        <AnimatePresence initial={false}>\n          {notices.map((notice) => (\n            <NoticeComponent key={notice.id} variants={variants} {...notice} />\n          ))}\n        </AnimatePresence>\n      </ui.ul>\n    )\n  })\n\n  return (\n    <Portal\n      appendToParentPortal={appendToParentPortal}\n      containerRef={containerRef}\n    >\n      {components}\n    </Portal>\n  )\n}\n\nconst defaultVariants: MotionVariants = {\n  initial: ({ placement }) => ({\n    opacity: 0,\n    [[\"top\", \"bottom\"].includes(placement) ? \"y\" : \"x\"]:\n      (placement === \"bottom\" ? 1 : placement.includes(\"right\") ? 1 : -1) * 24,\n  }),\n  animate: {\n    opacity: 1,\n    y: 0,\n    x: 0,\n    scale: 1,\n    transition: {\n      duration: 0.4,\n      ease: [0.4, 0, 0.2, 1],\n    },\n  },\n  exit: {\n    opacity: 0,\n    scale: 0.95,\n    transition: {\n      duration: 0.2,\n      ease: [0.4, 0, 1, 1],\n    },\n  },\n}\n\ntype NoticeComponentProps = NoticeOptions &\n  Pick<NoticeProviderProps, \"variants\">\n\nconst NoticeComponent = memo(\n  ({\n    variants = defaultVariants,\n    placement,\n    duration = 5000,\n    message,\n    onCloseComplete,\n    isDelete = false,\n    onDelete,\n    style,\n  }: NoticeComponentProps) => {\n    const [delay, setDelay] = useState(duration)\n    const isPresent = useIsPresent()\n\n    useUpdateEffect(() => {\n      if (!isPresent) onCloseComplete?.()\n    }, [isPresent])\n\n    useUpdateEffect(() => {\n      setDelay(duration)\n    }, [duration])\n\n    const onMouseEnter = () => setDelay(null)\n    const onMouseLeave = () => setDelay(duration)\n\n    const onClose = () => {\n      if (isPresent) onDelete()\n    }\n\n    useEffect(() => {\n      if (isPresent && isDelete) onDelete()\n    }, [isPresent, isDelete, onDelete])\n\n    useTimeout(onClose, delay)\n\n    const css: CSSUIObject = {\n      pointerEvents: \"auto\",\n      maxW: \"36rem\",\n      minW: \"20rem\",\n      ...style,\n    }\n\n    return (\n      <motion.li\n        layout\n        className=\"ui-notice__list__item\"\n        variants={variants}\n        initial=\"initial\"\n        animate=\"animate\"\n        exit=\"exit\"\n        onHoverStart={onMouseEnter}\n        onHoverEnd={onMouseLeave}\n        custom={{ placement }}\n        style={\n          {\n            display: \"flex\",\n            justifyContent: placement.includes(\"left\")\n              ? \"flex-start\"\n              : placement.includes(\"right\")\n                ? \"flex-end\"\n                : \"center\",\n          } as MotionStyle\n        }\n      >\n        <ui.div className=\"ui-notice__list__item__inner\" __css={css}>\n          {runIfFunc(message, { onClose })}\n        </ui.div>\n      </motion.li>\n    )\n  },\n)\n\nNoticeComponent.displayName = \"NoticeComponent\"\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}