{"ast":null,"code":"\"use client\";\n\n// src/environment-provider.tsx\nimport { useSafeLayoutEffect } from \"@yamada-ui/utils\";\nimport { createContext, useContext, useMemo, useReducer, useRef } from \"react\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar environment = {\n  getDocument: () => document,\n  getWindow: () => window\n};\nvar EnvironmentContext = createContext(environment);\nvar EnvironmentProvider = _ref => {\n  let {\n    children,\n    environment: environment2,\n    disabled\n  } = _ref;\n  const ref = useRef(null);\n  const context = useMemo(() => {\n    if (environment2) return environment2;\n    return {\n      getDocument: () => {\n        var _a, _b;\n        return (_b = (_a = ref.current) == null ? void 0 : _a.ownerDocument) != null ? _b : document;\n      },\n      getWindow: () => {\n        var _a, _b;\n        return (_b = (_a = ref.current) == null ? void 0 : _a.ownerDocument.defaultView) != null ? _b : window;\n      }\n    };\n  }, [environment2]);\n  const enabled = !disabled || !environment2;\n  return /* @__PURE__ */jsxs(EnvironmentContext.Provider, {\n    value: context,\n    children: [children, enabled ? /* @__PURE__ */jsx(\"span\", {\n      id: \"__ui_dev\",\n      hidden: true,\n      ref\n    }) : null]\n  });\n};\nEnvironmentProvider.displayName = \"EnvironmentProvider\";\nvar useEnvironment = function () {\n  let {\n    isDefer\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const [, forceUpdate] = useReducer(c => c + 1, 0);\n  useSafeLayoutEffect(() => {\n    if (!isDefer) return;\n    forceUpdate();\n  }, [isDefer]);\n  return useContext(EnvironmentContext);\n};\nexport { EnvironmentProvider, useEnvironment };","map":{"version":3,"names":["useSafeLayoutEffect","createContext","useContext","useMemo","useReducer","useRef","jsx","jsxs","environment","getDocument","document","getWindow","window","EnvironmentContext","EnvironmentProvider","_ref","children","environment2","disabled","ref","context","_a","_b","current","ownerDocument","defaultView","enabled","Provider","value","id","hidden","displayName","useEnvironment","isDefer","arguments","length","undefined","forceUpdate","c"],"sources":["C:\\チーム開発\\Food_searchApp\\food_searchapp_react\\node_modules\\@yamada-ui\\providers\\src\\environment-provider.tsx"],"sourcesContent":["import { useSafeLayoutEffect } from \"@yamada-ui/utils\"\nimport type { FC, ReactNode } from \"react\"\nimport { createContext, useContext, useMemo, useReducer, useRef } from \"react\"\n\nexport type Environment = {\n  getWindow: () => Window | undefined\n  getDocument: () => Document | undefined\n}\n\nconst environment: Environment = {\n  getDocument: () => document,\n  getWindow: () => window,\n}\n\nconst EnvironmentContext = createContext<Environment>(environment)\n\nexport type EnvironmentProviderProps = {\n  children: ReactNode\n  disabled?: boolean\n  environment?: Environment\n}\n\nexport const EnvironmentProvider: FC<EnvironmentProviderProps> = ({\n  children,\n  environment,\n  disabled,\n}) => {\n  const ref = useRef<HTMLSpanElement>(null)\n\n  const context = useMemo<Environment>(() => {\n    if (environment) return environment\n\n    return {\n      getDocument: () => ref.current?.ownerDocument ?? document,\n      getWindow: () => ref.current?.ownerDocument.defaultView ?? window,\n    }\n  }, [environment])\n\n  const enabled = !disabled || !environment\n\n  return (\n    <EnvironmentContext.Provider value={context}>\n      {children}\n\n      {enabled ? <span id=\"__ui_dev\" hidden ref={ref} /> : null}\n    </EnvironmentContext.Provider>\n  )\n}\n\nEnvironmentProvider.displayName = \"EnvironmentProvider\"\n\nexport const useEnvironment = ({ isDefer }: { isDefer?: boolean } = {}) => {\n  const [, forceUpdate] = useReducer((c) => c + 1, 0)\n\n  useSafeLayoutEffect(() => {\n    if (!isDefer) return\n\n    forceUpdate()\n  }, [isDefer])\n\n  return useContext(EnvironmentContext)\n}\n"],"mappings":";;;AAAA,SAASA,mBAAA,QAA2B;AAEpC,SAASC,aAAA,EAAeC,UAAA,EAAYC,OAAA,EAASC,UAAA,EAAYC,MAAA,QAAc;AAuCnE,SAGaC,GAAA,EAHbC,IAAA;AAhCJ,IAAMC,WAAA,GAA2B;EAC/BC,WAAA,EAAaA,CAAA,KAAMC,QAAA;EACnBC,SAAA,EAAWA,CAAA,KAAMC;AACnB;AAEA,IAAMC,kBAAA,GAAqBZ,aAAA,CAA2BO,WAAW;AAQ1D,IAAMM,mBAAA,GAAoDC,IAAA,IAI3D;EAAA,IAJ4D;IAChEC,QAAA;IACAR,WAAA,EAAAS,YAAA;IACAC;EACF,IAAAH,IAAA;EACE,MAAMI,GAAA,GAAMd,MAAA,CAAwB,IAAI;EAExC,MAAMe,OAAA,GAAUjB,OAAA,CAAqB,MAAM;IACzC,IAAIc,YAAA,EAAa,OAAOA,YAAA;IAExB,OAAO;MACLR,WAAA,EAAaA,CAAA,KAAG;QAjCtB,IAAAY,EAAA,EAAAC,EAAA;QAiCyB,QAAAA,EAAA,IAAAD,EAAA,GAAAF,GAAA,CAAII,OAAA,KAAJ,gBAAAF,EAAA,CAAaG,aAAA,KAAb,OAAAF,EAAA,GAA8BZ,QAAA;MAAA;MACjDC,SAAA,EAAWA,CAAA,KAAG;QAlCpB,IAAAU,EAAA,EAAAC,EAAA;QAkCuB,QAAAA,EAAA,IAAAD,EAAA,GAAAF,GAAA,CAAII,OAAA,KAAJ,gBAAAF,EAAA,CAAaG,aAAA,CAAcC,WAAA,KAA3B,OAAAH,EAAA,GAA0CV,MAAA;MAAA;IAC7D;EACF,GAAG,CAACK,YAAW,CAAC;EAEhB,MAAMS,OAAA,GAAU,CAACR,QAAA,IAAY,CAACD,YAAA;EAE9B,OACE,eAAAV,IAAA,CAACM,kBAAA,CAAmBc,QAAA,EAAnB;IAA4BC,KAAA,EAAOR,OAAA;IACjCJ,QAAA,GAAAA,QAAA,EAEAU,OAAA,GAAU,eAAApB,GAAA,CAAC;MAAKuB,EAAA,EAAG;MAAWC,MAAA,EAAM;MAACX;IAAA,CAAU,IAAK;EAAA,CACvD;AAEJ;AAEAL,mBAAA,CAAoBiB,WAAA,GAAc;AAE3B,IAAMC,cAAA,GAAiB,SAAAA,CAAA,EAA6C;EAAA,IAA5C;IAAEC;EAAQ,IAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA2B,CAAC;EACnE,MAAM,GAAGG,WAAW,IAAIjC,UAAA,CAAYkC,CAAA,IAAMA,CAAA,GAAI,GAAG,CAAC;EAElDtC,mBAAA,CAAoB,MAAM;IACxB,IAAI,CAACiC,OAAA,EAAS;IAEdI,WAAA,CAAY;EACd,GAAG,CAACJ,OAAO,CAAC;EAEZ,OAAO/B,UAAA,CAAWW,kBAAkB;AACtC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}